---
layout: post
title:  "Spring Framework 5"
date:   2020-02-14
author: LeeKiJong
categories: spring
comments : true
tags: JAVA Spring Framework
cover:  "/assets/java.jpg"
---
<h2>Security(보안)</h2>
보안 관련 프로젝트 생성 순서.  
1. 프로젝트 생성  
2. 한글 처리  
3. 보안 관련 라이브러리 추가  
4. 스프링 설정 파일 분리  
5. 보안 관련 설정 파일 만들기  
<h3>보안 관련 설정 파일 만들기</h3>
appServlet -> new -> other -> spring - > spring bean configuration file  
![15](https://user-images.githubusercontent.com/52438368/74533064-09f3e180-4f74-11ea-8f5c-328c3723637d.PNG)
<h3>In - memory 인증</h3>
![16](https://user-images.githubusercontent.com/52438368/74533213-635c1080-4f74-11ea-9b5f-1d6a30137d83.PNG)  
security 아래에 한 줄 추가.  
```xml
<security:form-login login-page = "/loginForm.html"/>
<!-- 로그인은 이 페이지로 하겠다. -->
```
<h4>loginForm.jsp</h4>
```html
<form action = "<c:url value = "j_spring_security_check" /> method = "post">
  ID: <input type = "text" name = "j_username" id = "j_username"> <br/> 
  PW: <input type = "text" name = "j_password" id = "j_password"> <br/> 
  <input type = "submit" value = "전송"><br/>
</form>
```
<h3>@RequestMapping 설정</h3>
![17](https://user-images.githubusercontent.com/52438368/74533307-9c948080-4f74-11ea-8262-11fcc1fdb9d9.PNG)

<h3>로그인, 로그아웃 상태 표시</h3>
```html
<c:url value = "j_spring_security_check" var = "loginUrl"/>
<form action = "${loginUrl}" method = "post">
  <c:if test = "${param.ng != null}">
  <p>
    Login NG <br/>
    <c:if test = "${SPRING_SECURITY_LAST_EXCEPTION != NULL}">
      message: <c:out value = "${SPRING_SECURITY_LAST_EXCEPTION.message}"/>
    </c:if>
  </p>
  </c:if>
  ID: <input type = "text" name = "j_username"> <br/> 
  PW: <input type = "text" name = "j_password"> <br/> 
  <input type = "submit" value = "LOGIN"><br/>

</form>
```
security 아래에 한 줄 추가.  
```xml
<security:form-login login-page = "/loginForm.html"
          authentication-failure-url = "/loginForm.html?ng"/>
```
![1](https://user-images.githubusercontent.com/52438368/74584393-272cbc80-5015-11ea-8c82-8272ff72539b.PNG)  
