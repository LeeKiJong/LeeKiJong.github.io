---
layout: post
title:  "JAVA JSP3"
date:   2020-01-17
author: LeeKiJong
categories: JSP
comments : true
tags: JAVA JSP
cover:  "/assets/java.jpg"
---

<h2>파일 업로드</h2>
<h4>파일 업로드 라이브러리 설치</h4>
* [http://www.servlets.com](http://www.servlets.com) 접속
* 좌측의 com.oreilly.servlet 클릭
* 아래쪽에서 zip파일 다운로드
* 압축 풀고 cos-20.08 -> lib -> cos.jar 파일을 WEB_INF -> lib에 복사 붙여넣기
* 실제 파일 저장 경로는 C:\Users\rl876\Downloads\apache-tomcat-7.0.99\apache-tomcat-7.0.99\wtpwebapps\WebContent\fileFolder

<hr>
<h2>EL(Expression Language)</h2>
: EL이란, 표현식 또는 액션 태그를 대신해서 값을 표현하는 언어입니다.  
```html
<%= value %>     ---->     ${ value }
```
<h4>EL연산자</h4>
- 산술: +, -, *, /, %  
- 관계형: ==, !=, <, >, <=, >=  
- 조건: a? b : c  
- 논리: &&, ||  
<h4>Ex</h4>
```html
${10}<br/>
${99.99}<br/>
${"ABC"}<br/>
${true}<br/>

${ 1+2 }<br/>
${ 1-2 }<br/>
${ 1*2 }<br/>
${ 1/2 }<br/>
${ 1>2 }<br/>
${ 1<2 }<br/>
${ (1>2)? 1 : 2 }<br/>
${ (1>2) || (1<2) }<br/>
```
<h4>액션태그</h4>
```html
이름: <jsp:getProperty name = "member" property = "name"/><br/>
아이디: <jsp:getProperty name = "member" property = "id"/><br/>
비밀번호: <jsp:getProperty name = "member" property = "pw"/><br/>

이름: ${member.name}<br/>
아이디: ${member.id}<br/>
비밀번호: ${member.pw}<br/>
```
<h4>내장객체</h4>
- pageScope: page객체를 참조하는 객체  
- requestScope: request객체를 참조하는 객체  
- sessionScope: session객체를 참조하는 객체  
- applicationScope: application객체를 참조하는 객체  
  
- param: 요청 파라미터를 참조하는 객체  
- paramValues: 요청 파라미터(배열)를 참조하는 객체  
- initParam: 초기화 파라미터를 참조하는 객체  
- Cookie: cookie객체를 참조하는 객체  
```html
<body>
	<form action = "eloperator.jsp" method = "get">
		아이디: <input type = "text" name = "id"><br/>
		비밀번호: <input type = "password" name = "pw">
		<input type = "submit" value = "로그인">
	</form>
	
	<%
		application.setAttribute("application_name", "application_value");
		session.setAttribute("session_name", "session_value");
		pageContext.setAttribute("page_name", "page_value");
		request.setAttribute("request_name", "request_value");
	%>
</body>
```
```html
<body>
	
	<%
		String id = request.getParameter("id");
		String pw = request.getParameter("pw");
	%>
	
	아이디: <%= id %><br/>
	비밀번호: <%= pw %>
	
	<hr/>
	
	아이디: ${param.id} <br/>
	비밀번호: ${param.pw} <br/>
	아이디: ${param["id"]} <br/>
	비밀번호: ${param["pw"]} 
	
	<hr/>
	
	applicationScope: ${applicationScope.application_name}<br/>
	sessionScope: ${sessionScope.session_name}<br/>
	pageScope: ${pageScope.page_name}<br/>
	requestScope: ${applicationScope.request_name}<br/>
	
	<hr/>
	
	context 초기화 파라미터<br/>
	${initParam.con_name }<br/>
	${initParam.con_id }<br/>
	${initParam.con_pw }<br/>
	
</body>
```
```xml
<context-param>
  <param-name>con_name</param-name>
  <param-value><con_name은 홍길동 입니다.</param-value>
</context-param>
  .....
```

<hr>
<h2>JSTL</h2>
JSP의 경우 HTML 태그와 같이 사용되어 전체적인 코드의 가독성이 떨어진다. 이러한 단점을 보완하는 태그 라이브러리  
- [http://jakarta.apache.org/](http://jakarta.apache.org/)  
- 좌측의  Taglibs 클릭  
- Apache Standard Taglib 클릭  
- Servlet 2.4, JavaServer Pages 2.0 다운로드  
- binaries/ 클릭  
- 1.1.2.zip 다운로드 후 압축해제  
- C:\Users\rl876\Downloads\jakarta-taglibs-standard-1.1.2\jakarta-taglibs-standard-1.1.2\lib에 jar파일 두 개를 C:\Users\rl876\Downloads\apache-tomcat-7.0.99\apache-tomcat-7.0.99\lib 로 복사  
<h4>JSTL 라이브러리</h4>
* Core  
URI: http://java.sum.com/jsp/jstl/core  
Prefix: c  
ex: <c:tag  
* XML Processing  
URI: http://java.sum.com/jsp/jstl/xml  
Prefix: x  
ex: <x:tag  
* l18N formatting  
URI: http://java.sum.com/jsp/jstl/fmt  
Prefix: fmt  
ex: <fmt:tag  
* SQL  
URI: http://java.sum.com/jsp/jstl/sql  
Prefix: sql  
ex: <sql:tag  
* Functions  
URI: http://java.sum.com/jsp/jstl/fn  
Prefix: fn  
ex: fn:function()  
<h5>Core</h5>
: 가장 기본적인 라이브러리로 출력, 제어문, 반복문 같은 기능이 포함되어 있다.  
```html
<%@ taglib uri=http://java.sun.com/jsp/jstl/core prefix="c" %>
```
출력 태그: <c:out>  
```html
<c:out value = "출력값" default="기본값" excapeXml = "true or false">
```
변수 설정 태그: <c:set>  
```html
<c:set var="변수명" value = "설정값" target ="객체" property = "값" scope="범위">
```
변수 제거 태그: <c:remove>  
```html
<c:remove var = "변수명" scope = "범위">
```
예외 처리 태그: <c:catch>  
```html
<c:catch var = "변수명">
```
제어문(if) 태그: <c:if>  
```html
<c:if test = "조건" var = "조건 처리 변수명" scope = "범위">
```
제어문(switch) 태그: <c:choose>  
```html
<c:choose>
<c:when test="조건">처리 내용</c:when>
<c:otherwise>처리 내용</c:otherwise>
</c:choose>
```
반복문(for) 태그: <c:forEach>  
```html
<c:forEach items = "객체명" begin = "시작 인덱스" end = "끝 인덱스" step = "증감식" var = "변수명" varStatus = "상태변수">
```
페이지 이동 태그: <c:redirect>  
```html
<c:redirect url = "url">
```
파라미터 전달 태그: <c:param>  
```html
<c:param name = "파라미터명" value = "값">
```
